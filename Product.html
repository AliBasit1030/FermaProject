<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="js/scripts.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
    .month-picker{
        font-family: "Poppins", sans-serif;
        font-weight: 500px !important;

    }
       @media screen and (max-width: 700px) {
        .naturalDOnkeyMilk-P {
    padding-top: 30px !important;
    font-size: 24px !important;
        }
        .snaturalDOnkeyMilk-PSKU {
            font-size: 18px !important;
        }
        .naturalDOnkeyMilk-Detail {
    padding-top: 5px;
    font-size: 18px !important;
        }
   }
    @media screen and (max-width: 1000px) {
       
        .Quantity-p-width{
            width: 301px!important;
        }
    }
    @media screen and (max-width: 1450px) and (min-width: 1000px) {
        .Quantity-p-width{
            width: 251px!important;
        }
    }
     #outOfStockMessage {
            display: none; /* Initially hidden */
            text-align: center;
            padding: 20px;
            background: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .back-btn {
            margin-top: 10px;
            margin-bottom: 20px;
            padding: 10px 20px;
            border: none;
            border-radius: 20px;
            background-color: #91A366;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .back-btn:hover {
            background-color: #718c67;
        }

        .out-of-stock-icon {
            width: 50px;
            height: 50px;
            margin-bottom: 10px;
        }
    .modal-content {
        background-color: transparent!important;
        border: none!important;
    }
    .Quantity-p {
        padding: 0px 30px 0px 0px;
        font-family: "Old Standard TT", serif !important;
        font-size: 20px !important;
        font-weight: 400 !important;
        color: #1E1E1E !important;
    }

    .naturalDOnkeyMilk-Detail,
    .snaturalDOnkeyMilk-PSKU,
    .naturalDOnkeyMilk-P {
        font-family: "Old Standard TT", serif !important;
    }

    .naturalDOnkeyMilk-Detail {
        font-size: 20px ;
        font-weight: 300 !important;
        color: #777777 !important;
    }

    .snaturalDOnkeyMilk-PSKU {
        font-size: 20px ;
        font-weight: 400 !important;
        font-family: 'Open Sans', sans-serif !important;
        color: #777777 !important;
    }

    .naturalDOnkeyMilk-P {
        padding-top: 20px;
        font-size: 36px ;
        font-weight: 700 !important;
        color: #1E1E1E !important;
    }

    .product-container {
        padding: 20px;
        background-color: #fff;
        border-radius: 8px;
    }

    .product-image img {
        max-width: 100%;
        border-radius: 8px;
    }

    .product-info {
        display: flex;
        justify-content: center;
        flex-direction: column;
    }

    .bottom-divider {
        border-top: 1px solid #ddd;
        margin: 15px 0;
    }

    .quantity-options {
        display: flex;
        gap: 20px;
        margin-bottom: 15px;
        align-items: center;
    }

    .quantity-options input[type="radio"] {
        display: none;
    }

    .quantity-options label {
        display: flex;
        align-items: center;
        cursor: pointer;
        font-size: 14px;
        color: #6c757d;
        gap: 5px;
    }

    .quantity-options input[type="radio"]:checked + label {
        color: #718c67;
        font-weight: 600;
    }

    .quantity-options input[type="radio"]:checked + label::before {
        background-color: #718c67;
        border-color: #718c67;
    }

    .quantity-options label::before {
        content: '';
        display: inline-block;
        width: 14px;
        height: 14px;
        border: 2px solid #ccc;
        border-radius: 50%;
        margin-right: 5px;
        transition: all 0.3s ease;
    }

    .btn-custom {
        background-color: #91A366 !important;
        color: #fff !important;
        border-radius: 20px !important;
        border: none !important;
        padding: 10px 20px !important;
        font-weight: 600 !important;
        margin: 20px 0px;
        width: 100% !important;
        transition: background-color 0.3s !important;
    }

    .btn-custom:hover {
        background-color: #91A366 !important;
    }

    .location-text {
        font-family: 'Open Sans', sans-serif !important;
        color: #999999;
        font-weight: 400;
    }

    .input-group .btn {
        border-radius: 20px;
        border: 1px solid #ccc;
    }

    .input-group input {
        border: 1px solid #ccc;
        border-radius: 20px;
        max-width: 50px;
    }
    .disabled-date {
            opacity: 0.5; /* Reduce opacity to make past dates look faded */
            pointer-events: none; /* Prevent interaction */
        }

    .modal-content {
        border-radius: 15px;
        overflow: hidden;
    }

    .calendar {
        padding: 20px 20px;
        max-width: 500px;
     
        display: flex;
        flex-direction: column;
        background: #ffffff;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .calendar-header {
        display: flex;    margin: 0px 40px;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
        font-family: "Poppins", sans-serif;
        font-weight: 500px !important;
        color: #2D2C30 !important;
        font-size: 16px;
    }

    .calendar-header button {
        background: none;
        border: none;
        font-size: 18px;
        cursor: pointer;
    }

    .calendar-days {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 10px;
        text-align: center;
    }

    .calendar-day-hover {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 10px;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s;
        font-size: 14px;
        color: #555;
    }

    .calendar-day-hover:hover {
        background-color: #e0e0e0;
    }

    .selected-date {
        background-color: #91A366;
        color: white;
    }

    .confirm-btn {
        width: 100%;
        margin-top: 10px;
        margin-bottom: 10px;
        padding: 10px;
        border: none;
        border-radius: 20px;
        background-color: #91A366;
        color: white;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .confirm-btn:hover {
        background-color: #718c67;
    }
.selectdayoftocollect{
   font-family: "Old Standard TT", serif !important;
    text-align: center;
    font-size: 25px;
        margin-bottom: 5px;
        font-weight: bold;
        color: #91A366;
}
    .day-names {
        padding-top: 20px;
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        text-align: center;
        font-family: "Poppins", sans-serif;
        font-weight: 500px !important;
        color: #2D2C30 !important;
        font-size: 16px;
    }
    </style>
</head>
<body>

    <div id="navbar"></div>
    <div id="product-header"></div>
    <div>
        <div class="container my-5">
            <div class="row product-container">
                <div class="col-12 col-md-6 product-image">
                    <img src="assets/images/OrderMilkCalandarA.png" alt="Natural Donkey Milk">
                </div>
                <div class="col-12 col-md-6 product-info">
                    <p class="naturalDOnkeyMilk-P">Natural Donkey Milk</p>
                    <small class="snaturalDOnkeyMilk-PSKU">SKU 0000000</small>
                    <p class="naturalDOnkeyMilk-Detail">Freshly harvested and meticulously processed, itâ€™s delivered to your doorstep, ensuring you receive all the benefits of this ancient, healthful beverage in its purest form.</p>
                    <div class="bottom-divider"></div>
                    <div class="d-flex flex-row mt-4 mb-4">
                        <p class="Quantity-p">Quantity:</p>
                        <div class="quantity-options">
                            <input type="radio" id="quantity1" name="quantity" checked>
                            <label for="quantity1">300ml</label>
                            <input type="radio" id="quantity2" name="quantity">
                            <label for="quantity2">700ml</label>
                        </div>
                    </div>
                    <div class="mb-3 d-flex flex-row">
                        <label class="Quantity-p Quantity-p-width" style="width: 200px;">No. of Bottles:</label>
                        <div class="input-group">
                            <button class="btn btn-outline-secondary btn-sm" onclick="document.getElementById('bottleCount').value = Math.max(1, parseInt(document.getElementById('bottleCount').value) - 1);">-</button>
                            <input type="text" class="form-control form-control-sm text-center" value="2" id="bottleCount" readonly>
                            <button class="btn btn-outline-secondary btn-sm" onclick="document.getElementById('bottleCount').value = parseInt(document.getElementById('bottleCount').value) + 1;">+</button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="Quantity-p">Location:</label>
                        <span class="location-text">Turburea</span>
                    </div>
                    <button class="btn btn-custom" data-bs-toggle="modal" data-bs-target="#calendarModal">Next</button>
                </div>
            </div>
            <div class="modal fade" id="calendarModal" tabindex="-1" aria-labelledby="calendarModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="calendar" id="calendarSection">
                            <p class="selectdayoftocollect"> Select days to collect milk</p>
                            <div class="calendar-header">
                               
                                <button id="prev-year" class="btn btn-sm btn-outline-secondary">&lt;</button>
                                <div>
                                    <span id="month-picker" class="month-picker">Month</span> 
                                    <span id="year">Year</span>
                                </div>
                                <button id="next-year" class="btn btn-sm btn-outline-secondary">&gt;</button>
                            </div>
                            <div class="day-names">
                                <span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span><span>Sun</span>
                            </div>
                            <div class="calendar-days"></div>
                            <button class="confirm-btn" id="confirm-btn" disabled>Confirm</button>
                        </div>
                        <!-- Out of Stock Message -->
                        <div id="outOfStockMessage">
                            <svg width="50" height="50" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="12" fill="#E74C3C"></circle>
                                <rect x="11" y="6" width="2" height="8" fill="#FFFFFF"></rect>
                                <circle cx="12" cy="17" r="1" fill="#FFFFFF"></circle>
                            </svg>
                            <h4 style="padding: 20px 0px 10px 0px;">Out of Stock!</h4>
                            <p class="pa-4 pr-7 pl-7">Item is not available on this date, please choose another date.</p>
                            <button class="back-btn" id="backToCalendarBtn">Back to Calendar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="Product-features"></div>

    <div id="carouselsec"></div>
    <div id="footer"></div>

    <div id="footer"></div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
    initializeCalendar();
});

function initializeCalendar() {
    const calendar = document.querySelector('.calendar');
    const selectedDates = new Set();
    const maxSelectableDates = 5;
    const confirmBtn = document.getElementById('confirm-btn');

    function updateConfirmButtonState() {
        // Enable the confirm button only if at least one date is selected
        confirmBtn.disabled = selectedDates.size === 0;
    }

    function showOutOfStockMessage() {
        document.getElementById('calendarSection').style.display = 'none';
        document.getElementById('outOfStockMessage').style.display = 'block';
    }

    function showCalendar() {
        document.getElementById('calendarSection').style.display = 'block';
        document.getElementById('outOfStockMessage').style.display = 'none';
    }

    document.getElementById('backToCalendarBtn').addEventListener('click', showCalendar);

    const month_names = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

    const isLeapYear = (year) => {
        return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
    };

    const getFebDays = (year) => {
        return isLeapYear(year) ? 29 : 28;
    };

    const generateCalendar = (month, year) => {
        const calendar_days = calendar.querySelector('.calendar-days');
        const calendar_header_year = calendar.querySelector('#year');

        const days_of_month = [31, getFebDays(year), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];

        calendar_days.innerHTML = '';

        let currDate = new Date();
        let today = new Date(currDate.getFullYear(), currDate.getMonth(), currDate.getDate());

        let curr_month = month_names[month];
        document.getElementById('month-picker').innerHTML = curr_month;
        calendar_header_year.innerHTML = year;

        let first_day = new Date(year, month, 1).getDay() - 1;
        if (first_day < 0) first_day = 6;

        for (let i = 0; i < first_day; i++) {
            const emptySpot = document.createElement('div');
            calendar_days.appendChild(emptySpot);
        }

        for (let i = 1; i <= days_of_month[month]; i++) {
            const day = document.createElement('div');
            day.classList.add('calendar-day-hover');
            day.textContent = i;

            const date = new Date(year, month, i);
            const dateKey = `${year}-${month + 1}-${i}`;

            if (date < today) {
                day.classList.add('disabled-date');
            } else {
                if (selectedDates.has(dateKey)) {
                    day.classList.add('selected-date');
                }

                day.onclick = () => {
                    if (selectedDates.has(dateKey)) {
                        selectedDates.delete(dateKey);
                        day.classList.remove('selected-date');
                    } else {
                        if (selectedDates.size < maxSelectableDates) {
                            selectedDates.add(dateKey);
                            day.classList.add('selected-date');
                        } else {
                            showOutOfStockMessage();
                        }
                    }
                    updateConfirmButtonState(); // Update button state after each click
                };
            }

            calendar_days.appendChild(day);
        }
    };

    let currDate = new Date();
    let curr_month = currDate.getMonth();
    let curr_year = currDate.getFullYear();

    generateCalendar(curr_month, curr_year);

    document.querySelector('#prev-year').onclick = () => {
        if (curr_month === 0) {
            curr_month = 11;
            curr_year--;
        } else {
            curr_month--;
        }
        generateCalendar(curr_month, curr_year);
    };

    document.querySelector('#next-year').onclick = () => {
        if (curr_month === 11) {
            curr_month = 0;
            curr_year++;
        } else {
            curr_month++;
        }
        generateCalendar(curr_month, curr_year);
    };

    confirmBtn.onclick = () => {
        console.log('Selected Dates:', Array.from(selectedDates));
        window.location.href = 'order.html'; // Replace with the correct URL to navigate to the home page
    };

    updateConfirmButtonState(); // Initial check to ensure the button is disabled on load
}

    </script>

    
</body>
</html>
